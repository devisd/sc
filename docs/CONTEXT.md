
```markdown
# Контекст проекта: Приложение для учета клиентов сервисного центра

## Обзор
Приложение для автоматизации процессов сервисного центра по ремонту компьютерной и мобильной техники.  
**Цель**: Упростить учет клиентов, заказов и финансовых операций.

---

## Основные требования
### 1. Учет заказов
- **Поля при приеме устройства**:
  - Тип устройства (выпадающий список: компьютер/ноутбук/смартфон/планшет/другое)
  - Модель устройства (текстовое поле с автодополнением)
  - ФИО клиента
  - Контактный телефон (с валидацией)
  - Описание неисправности (многострочный текст)
  - Предоплата (числовое поле с валидацией)
  - Комментарий мастера (многострочный текст)

### 2. Управление услугами
- Возможность добавлять/удалять:
  - Запчасти (название, артикул, цена за единицу)
  - Услуги (название, категория, цена)
- Редактирование прайс-листа

### 3. Система статусов
- Статусы заказов (цветовая индикация):
  - `Новый`, `В работе`, `Ожидает запчасти`, `Готов к выдаче`, `Выполнен`, `Отменен`
- История изменений статусов

### 4. Дополнительные функции
- Поиск по клиентам/устройствам
- Фильтрация заказов по статусам/датам
- Печать актов приема-передачи
- Уведомления клиентов (SMS/Email) при смене статуса

---

## Сущности данных (TypeScript Interfaces)
```typescript
interface Order {
  id: string;
  deviceType: 'computer' | 'laptop' | 'smartphone' | 'tablet' | 'other';
  model: string;
  client: {
    fullName: string;
    phone: string;
  };
  problemDescription: string;
  prepayment: number;
  masterComment: string;
  status: OrderStatus;
  services: Service[];
  createdAt: Date;
  updatedAt: Date;
}

interface Service {
  id: string;
  type: 'part' | 'service';
  name: string;
  price: number;
  quantity?: number;
}

type OrderStatus = 
  | 'new'
  | 'in_progress'
  | 'waiting_parts'
  | 'ready'
  | 'completed'
  | 'canceled';
```

---

## Интерфейсы пользователя
1. **Главная страница**:
   - Список заказов с быстрыми фильтрами
   - Кнопка "Новый заказ"
   - Поисковая строка

2. **Карточка заказа**:
   - Детальная информация
   - История статусов
   - Редактируемое поле комментария
   - Кнопки действий (изменить статус, печать)

3. **Форма создания заказа**:
   - Валидация полей
   - Динамическое добавление услуг
   - Расчет предоплаты/итоговой суммы

4. **Админ-панель**:
   - Управление услугами и ценами
   - Статистика по заказам

---

## Технические детали
### Стек технологий
- **Frontend**: 
  - Next.js 14 (App Router)
  - TypeScript
  - Tailwind CSS + Headless UI
  - Zustand (глобальное состояние)
  - React-Hook-Form + Zod (валидация)

### Структура проекта
```
/src
  /components
    /orders
      OrderCard.tsx
      OrderForm.tsx
    /services
      ServiceEditor.tsx
  /lib
    api.ts
    stores/
  /app
    /orders
      page.tsx
      /[id]
        page.tsx
    /services
      page.tsx
```

### Зависимости
- `@heroicons/react` для иконок
- `react-datepicker` для выбора дат
- `react-to-print` для печати документов
- `dayjs` для работы с датами

---

## Примечания для разработчика
1. Приоритет на мобильную адаптацию (мастера часто используют планшеты)
2. Валидация телефона: обязательный формат `+7 (XXX) XXX-XX-XX`
3. Предоплата должна учитывать стоимость добавленных услуг
4. Реализовать drag-and-drop сортировку для списка заказов
5. Использовать Tailwind-классы из дизайн-системы:
   - Цвета статусов: 
     - `bg-status-new` → синий-200
     - `bg-status-ready` → зеленый-400
     - и т.д.
``` 